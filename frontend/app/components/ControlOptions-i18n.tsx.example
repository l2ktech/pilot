'use client';

import { useTranslations } from 'next-intl';
import { Button } from '@/components/ui/button';
import { Home, Square, AlertTriangle, Play } from 'lucide-react';
import { useState } from 'react';

export default function ControlOptions() {
  const t = useTranslations('control');
  const [isHoming, setIsHoming] = useState(false);

  const handleHome = async () => {
    setIsHoming(true);
    try {
      // 回零逻辑
      await homeRobot();
    } finally {
      setIsHoming(false);
    }
  };

  return (
    <div className="flex flex-wrap gap-2">
      {/* 回零按钮 */}
      <Button 
        onClick={handleHome}
        disabled={isHoming}
        className="gap-2"
      >
        <Home className="h-4 w-4" />
        {isHoming ? t('actions.homing') : t('actions.home')}
      </Button>

      {/* 发送到机械臂 */}
      <Button variant="default" className="gap-2">
        <Play className="h-4 w-4" />
        {t('actions.sendToRobot')}
      </Button>

      {/* 停止 */}
      <Button variant="destructive" className="gap-2">
        <Square className="h-4 w-4" />
        {t('actions.stop')}
      </Button>

      {/* 解除急停 */}
      <Button variant="outline" className="gap-2">
        <AlertTriangle className="h-4 w-4" />
        {t('actions.clearEstop')}
      </Button>
    </div>
  );
}

// 使用说明：
// 替换 ControlOptions.tsx 中的硬编码文本
// 使用 t('actions.xxx') 替代原来的字符串
